
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>LAB 4 - Manage resource locks · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.4">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lab05.html" />
    
    
    <link rel="prev" href="lab03.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">About</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    AZURE JOURNEY
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Describe cloud concepts</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../M1/01/">
            
                <a href="../../M1/01/">
            
                    
                    1. Cloud Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../M1/01/cloud_computinf.md">
            
                <span>
            
                    
                    1.1. Cloud computing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../M1/01/benefits_cloud.html">
            
                <a href="../../M1/01/benefits_cloud.html">
            
                    
                    1.2. Benefits of cloud services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../M1/01/cloud_types.html">
            
                <a href="../../M1/01/cloud_types.html">
            
                    
                    1.3. Cloud service types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Describe Azure architecture and services</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../M2/01/">
            
                <a href="../../M2/01/">
            
                    
                    2. Azure architecture and services
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../M2/01/core_components.html">
            
                <a href="../../M2/01/core_components.html">
            
                    
                    2.1. Core Azure architectural components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../M2/01/networking_services.html">
            
                <a href="../../M2/01/networking_services.html">
            
                    
                    2.2. Azure compute and networking services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../M2/01/storage_services.html">
            
                <a href="../../M2/01/storage_services.html">
            
                    
                    2.3. Azure storage services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../../M2/01/cloud_security.html">
            
                <a href="../../M2/01/cloud_security.html">
            
                    
                    2.4. Azure identity, access, and security
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../M2/01/lab01.html">
            
                <a href="../../M2/01/lab01.html">
            
                    
                    LAB 1 - Create a virtual machine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../M2/01/lab02.html">
            
                <a href="../../M2/01/lab02.html">
            
                    
                    LAB 2 - Create a VM with a Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../M2/01/lab03.html">
            
                <a href="../../M2/01/lab03.html">
            
                    
                    LAB 3 - Create a VM with PowerShell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../../M2/01/lab04.html">
            
                <a href="../../M2/01/lab04.html">
            
                    
                    LAB 4 - Create a VM with the CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../../M2/01/lab05.html">
            
                <a href="../../M2/01/lab05.html">
            
                    
                    LAB 5 - Create a Web App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../../M2/01/lab06.html">
            
                <a href="../../M2/01/lab06.html">
            
                    
                    LAB 6 - Deploy Azure Container Instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../../M2/01/lab07.html">
            
                <a href="../../M2/01/lab07.html">
            
                    
                    LAB 7 - Implement Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="../../M2/01/lab08.html">
            
                <a href="../../M2/01/lab08.html">
            
                    
                    LAB 8 - Create a virtual network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="../../M2/01/lab09.html">
            
                <a href="../../M2/01/lab09.html">
            
                    
                    LAB 9 - Secure network traffic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="../../M2/01/lab10.html">
            
                <a href="../../M2/01/lab10.html">
            
                    
                    LAB 10 - Create Blob storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="../../M2/01/lab11.html">
            
                <a href="../../M2/01/lab11.html">
            
                    
                    LAB 11 - Create a SQL database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.12" data-path="../../M2/01/lab12.html">
            
                <a href="../../M2/01/lab12.html">
            
                    
                    LAB 12 - Manage access with RBAC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.13" data-path="../../M2/01/lab13.html">
            
                <a href="../../M2/01/lab13.html">
            
                    
                    LAB 13 - Implement Azure Key Vault
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Describe Azure management and governance</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="./">
            
                <a href="./">
            
                    
                    3. Azure management and governance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="cost_management.html">
            
                <a href="cost_management.html">
            
                    
                    3.1. Cost management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="gov_compliance.html">
            
                <a href="gov_compliance.html">
            
                    
                    3.2. Governance and compliance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="man_deploy_resources.html">
            
                <a href="man_deploy_resources.html">
            
                    
                    3.3. Managing and deploying resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="monitoring_tools.html">
            
                <a href="monitoring_tools.html">
            
                    
                    3.4. Azure monitoring tools
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="lab01.html">
            
                <a href="lab01.html">
            
                    
                    LAB 1 - Use the Azure Pricing Calculator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="lab02.html">
            
                <a href="lab02.html">
            
                    
                    LAB 2 - Use the Azure TCO Calculator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="lab03.html">
            
                <a href="lab03.html">
            
                    
                    LAB 3 - Implement resource tagging
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="6.4" data-path="lab04.html">
            
                <a href="lab04.html">
            
                    
                    LAB 4 - Manage resource locks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="lab05.html">
            
                <a href="lab05.html">
            
                    
                    LAB 5 - Create an Azure Policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="lab06.html">
            
                <a href="lab06.html">
            
                    
                    LAB 6 - Explore the Trust Center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="lab07.html">
            
                <a href="lab07.html">
            
                    
                    LAB 7 - Calculate Composite SLAs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="lab08.html">
            
                <a href="lab08.html">
            
                    
                    LAB 8 - Open a Support Request
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >LAB 4 - Manage resource locks</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="lab-4-manage-resource-locks-5-min">Lab 4: Manage resource locks (5 min)</h2>
<p>In this Lab, we will add a lock to the resource group and test deleting the resource group. Locks can be applied in a subscription to resource groups, or individual resources to prevent accidental deletion or modification of critical resources.</p>
<h3 id="task-1-add-a-lock-to-the-resource-group-and-test-deletion">Task 1: Add a Lock to the resource group and test deletion</h3>
<p>In this task, we will add a resource lock to the resource group and test deleting the resource group.</p>
<p>1 - Sign in to the <a href="https://portal.azure.com" target="_blank">Azure portal</a>.</p>
<p>2 - In the Azure portal, navigate to the resource group <strong>myRGLocks</strong>.</p>
<p>3 - You can apply a lock to a subscription, resource group, or individual resource to prevent accidental deletion or modification of critical resources.</p>
<p>4 - In the <strong>Settings</strong> section, click <strong>Locks</strong>, and then click <strong>+ Add</strong>.</p>
<p><img src="images/1501.png" alt="alt text"></p>
<p>5 - Configure the new lock. When you are done click <strong>OK</strong>.</p>
<table>
<thead>
<tr>
<th><strong>Setting</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Lock name</td>
<td>&quot;RGLock&quot;</td>
</tr>
<tr>
<td>Lock type</td>
<td><strong>Excluir</strong></td>
</tr>
</tbody>
</table>
<p>6 - Click <strong>Overview</strong> and click <strong>Delete resource group</strong>. Type the name of the resource group and click <strong>OK</strong>. You receive an error message stating the resource group is locked and can&apos;t be deleted.</p>
<p><img src="images/1502.png" alt="alt text"></p>
<h3 id="task-2-test-deleting-a-member-of-the-resource-group">Task 2: Test deleting a member of the resource group</h3>
<p>In this task, we will test if the resource lock protects a storage account in the resource group.</p>
<p>1 - From the <strong>All services</strong> blade, search for and select Storage accounts, and then click <strong>+ Add</strong>, <strong>+ Create</strong>, or <strong>+ New</strong>.</p>
<p>2 - On the <strong>Storage Accounts</strong> page <strong>+ Add, + New, + Create</strong> blade, fill in the following information (replace <strong>xxxx</strong> in the name of the storage account with letters and digits such that the name is globally unique). Leave the defaults for everything else.</p>
<table>
<thead>
<tr>
<th><strong>Setting</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Subscription</td>
<td><strong><em>Select your subscription</em></strong></td>
</tr>
<tr>
<td>Resource group</td>
<td><strong>myRGLocks</strong></td>
</tr>
<tr>
<td>Storage account name</td>
<td><strong>storageaccountxxxx</strong></td>
</tr>
<tr>
<td>Location</td>
<td><strong>(EUA) Leste dos EUA</strong></td>
</tr>
<tr>
<td>Performance</td>
<td><strong>Standard</strong></td>
</tr>
<tr>
<td>Account kind</td>
<td><strong>StorageV2 (general purpose v2)</strong></td>
</tr>
<tr>
<td>Replication</td>
<td><strong>Locally redundant storage (LRS)</strong></td>
</tr>
<tr>
<td>Access tier (default)</td>
<td><strong>Hot</strong></td>
</tr>
</tbody>
</table>
<p>3 - Click <strong>Review + Create</strong> to review your storage account settings and allow Azure to validate the configuration.</p>
<p>4 - Once validated, click <strong>Create</strong>. Wait for the notification that the account was successfully created.</p>
<p>5 - Wait for the notification that the storage account was successfully created.</p>
<p>6 - Access your new storage account and from the <strong>Overview</strong> pane, click <strong>Delete</strong>. You receive an error message stating the resource or its parent has a delete lock.</p>
<p><img src="images/1503.png" alt="alt text"></p>
<p><strong>Note:</strong> Although we did not create a lock specifically for the storage account, we did create a lock at the resource group level, which contains the storage account.
As such, this parent level lock prevents us from deleting the resource and the storage account inherits the lock from the parent.</p>
<h3 id="task-3-remove-the-resource-lock">Task 3: Remove the resource lock</h3>
<p>In this task, we will remove the resource lock and test.</p>
<p>1 - Return to the <strong>myRGLocks-XXXXXXXX</strong> resource group blade and, in the <strong>Settings</strong> section, click <strong>Locks</strong>.</p>
<p>2 - Click <strong>Delete</strong> link to the far right of the <strong>myRGLocks-XXXXXXXX</strong> entry, to the right of <strong>Edit</strong>.</p>
<p><img src="images/1504.png" alt="alt text"></p>
<p>3 - Return to the storage account blade and confirm you can now delete the resource.</p>
<p><strong>Congratulations!</strong> You created a resource group, added a lock to resource group and tested deletion, tested deleting a resource in the resource group, and removed the resource lock.</p>
<p><strong>Note:</strong> To avoid additional costs, you can optionally remove this resource group. Search for resource groups, click your resource group, and then click <strong>Delete resource group</strong>. Verify the name of the resource group and then click <strong>Delete</strong>.
Monitor the <strong>Notifications</strong> to see how the delete is proceeding.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="lab03.html" class="navigation navigation-prev " aria-label="Previous page: LAB 3 - Implement resource tagging">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="lab05.html" class="navigation navigation-next " aria-label="Next page: LAB 5 - Create an Azure Policy">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"wts":{"title":"15 – Manage resource locks (5 min)","module":"Module 05: Describe identity, governance, privacy, and compliance features"},"title":"LAB 4 - Manage resource locks","level":"6.4","depth":1,"next":{"title":"LAB 5 - Create an Azure Policy","level":"6.5","depth":1,"path":"M3/01/lab05.md","ref":"M3/01/lab05.md","articles":[]},"previous":{"title":"LAB 3 - Implement resource tagging","level":"6.3","depth":1,"path":"M3/01/lab03.md","ref":"M3/01/lab03.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"M3/01/lab04.md","mtime":"2023-01-18T01:25:52.705Z","type":"markdown"},"gitbook":{"version":"4.0.4","time":"2023-01-19T00:23:46.571Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

