
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Lab 01 - Create a VM by using the Azure Command-Line Interface (CLI) Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.4">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lab02.html" />
    
    
    <link rel="prev" href="Run_container.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">About</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    AZURE JOURNEY
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop Azure Compute Solutions</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="./">
            
                <a href="./">
            
                    
                    Implement IaaS solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="Provision_vm.html">
            
                <a href="Provision_vm.html">
            
                    
                    Provision virtual machines in Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="Create_arm.html">
            
                <a href="Create_arm.html">
            
                    
                    Create and deploy Azure Resource Manager templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Manage_container.html">
            
                <a href="Manage_container.html">
            
                    
                    Manage container images in Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="Run_container.html">
            
                <a href="Run_container.html">
            
                    
                    Run container images in Azure Container Instances
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on LABS</li>
        
        
    
        <li class="chapter active" data-level="3.1" data-path="lab01.html">
            
                <a href="lab01.html">
            
                    
                    Lab 01 - Create a VM by using the Azure Command-Line Interface (CLI)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="lab02.html">
            
                <a href="lab02.html">
            
                    
                    Lab 02 - Create a Docker container image and deploy it to Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="lab03.html">
            
                <a href="lab03.html">
            
                    
                    Lab 03 - Deploy an Azure container instance
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../02/">
            
                <a href="../02/">
            
                    
                    Create Azure App Service Web Apps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../02/Azure_app_service.html">
            
                <a href="../02/Azure_app_service.html">
            
                    
                    Explore Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../02/Config_app_service.html">
            
                <a href="../02/Config_app_service.html">
            
                    
                    Configure web app settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../02/Scaling_app_service.html">
            
                <a href="../02/Scaling_app_service.html">
            
                    
                    Scale apps in Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../02/Azure_app_service_deploy.html">
            
                <a href="../02/Azure_app_service_deploy.html">
            
                    
                    Explore Azure App Service deployment slots
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../02/lab01.html">
            
                <a href="../02/lab01.html">
            
                    
                    LAB 01 - Build a backend API by using Azure Storage and the Web Apps feature of Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../02/lab02.html">
            
                <a href="../02/lab02.html">
            
                    
                    LAB 02 - Build a front-end web application by using Azure Web Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../02/lab03.html">
            
                <a href="../02/lab03.html">
            
                    
                    LAB 03 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../03/">
            
                <a href="../03/">
            
                    
                    Implemente Azure functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../03/Azure_functions.html">
            
                <a href="../03/Azure_functions.html">
            
                    
                    Explore Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../03/Develop_azure_functions.html">
            
                <a href="../03/Develop_azure_functions.html">
            
                    
                    Develop Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../03/Implement_functions.html">
            
                <a href="../03/Implement_functions.html">
            
                    
                    Implement Durable Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../03/lab01.html">
            
                <a href="../03/lab01.html">
            
                    
                    LAB 01 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../03/lab02.html">
            
                <a href="../03/lab02.html">
            
                    
                    LAB 02 - Configure a local Azure Functions project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../03/lab03.html">
            
                <a href="../03/lab03.html">
            
                    
                    LAB 03 - Create a function thatâs triggered by an HTTP request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../03/lab04.html">
            
                <a href="../03/lab04.html">
            
                    
                    LAB 04 - Create a function that triggers on a schedule
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../03/lab05.html">
            
                <a href="../03/lab05.html">
            
                    
                    LAB 05 - Create a function that integrates with other services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../03/lab06.html">
            
                <a href="../03/lab06.html">
            
                    
                    LAB 06 - Deploy a local function project to an Azure Functions app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../03/lab07.html">
            
                <a href="../03/lab07.html">
            
                    
                    LAB 07 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop for Azure storage</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../../M2/01/">
            
                <a href="../../M2/01/">
            
                    
                    Develop solutions that use Cosmos DB storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../../M2/02/">
            
                <a href="../../M2/02/">
            
                    
                    Develop solutions that use blob storage
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Lab 01 - Create a VM by using the Azure Command-Line Interface (CLI)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="lab-01-create-a-vm-by-using-the-azure-command-line-interface-cli">Lab 01: Create a VM by using the Azure Command-Line Interface (CLI)</h2>
<h3 id="task-1-open-the-azure-portal">Task 1: Open the Azure portal</h3>
<ol>
<li><p>In the open browser window, navigate to the Azure portal (<a href="https://portal.azure.com" target="_blank">https://portal.azure.com</a>), and then sign in with the account you&apos;ll be using for this lab.</p>
<blockquote>
<p><strong>Note</strong>: If this is your first time signing in to the Azure portal, you&apos;ll be offered a tour of the portal. If you prefer to skip the tour, select <strong>Get Started</strong> to begin using the portal.</p>
</blockquote>
</li>
</ol>
<h3 id="task-2-create-a-resource-group">Task 2: Create a resource group</h3>
<ol>
<li><p>On the Azure portal&apos;s navigation pane, use the <strong>Search resources, services, and docs</strong> text box to search for <strong>Resource group</strong>, and then in the list of results, select <strong>Resource groups</strong>.</p>
</li>
<li><p>On the <strong>Resource groups</strong> blade, select <strong>Create</strong>.</p>
</li>
<li><p>On the <strong>Create a resource group</strong> blade, on the <strong>Basics</strong> tab, perform the following actions, and then select <strong>Review + create</strong>:</p>
<p>| Setting | Action |
| -- | -- |
| <strong>Subscription</strong> drop-down list | Retain the default value  |
| <strong>Resource group</strong> text box | Enter <strong>ContainerCompute</strong> |
| <strong>Region</strong> drop-down list | Select <strong>(US) East US</strong> |</p>
<p>The following screenshot displays the configured settings on the <strong>Create a resource group</strong> blade.</p>
<p><img src="images/l05_create_a_resource_group.png" alt="alt text"></p>
</li>
<li><p>On the <strong>Review + create</strong> tab, review the options that you selected during the previous steps.</p>
</li>
<li><p>Select <strong>Create</strong> to create the resource group by using your specified configuration.  </p>
<blockquote>
<p><strong>Note</strong>: Wait for the creation task to complete before moving forward with this lab.</p>
</blockquote>
</li>
</ol>
<h3 id="task-3-open-azure-cloud-shell">Task 3: Open Azure Cloud Shell</h3>
<ol>
<li><p>In the Azure portal, select the <strong>Cloud Shell</strong> icon <img src="images/az204_lab_CloudShell.png" alt="alt text"> to open a new PowerShell session. If Cloud Shell defaults to a PowerShell session, select <strong>PowerShell</strong>, and then in the drop-down menu, select <strong>Bash</strong>.</p>
<blockquote>
<p><strong>Note</strong>: The <strong>Cloud Shell</strong> icon is represented by a greater than sign (&gt;) and underscore character (_).</p>
<p><strong>Note</strong>: If this is the first time you&apos;re starting <strong>Cloud Shell</strong>, when prompted to select either <strong>Bash</strong> or <strong>PowerShell</strong>, select <strong>Bash</strong>. When you&apos;re presented with the <strong>You have no storage mounted</strong> message, select the subscription you&apos;re using in this lab, and then select <strong>Create storage</strong>.</p>
</blockquote>
</li>
<li><p>At the <strong>Cloud Shell</strong> command prompt in the portal, run the following command to get the version of the Azure CLI tool:</p>
<pre><code>az --version
</code></pre></li>
</ol>
<h3 id="task-4-use-the-azure-cli-commands">Task 4: Use the Azure CLI commands</h3>
<ol>
<li><p>Run the following command to get a list of subgroups and commands at the root level of the CLI:</p>
<pre><code>az --help
</code></pre></li>
<li><p>Run the following command to get a list of subgroups and commands for Azure Virtual Machines:</p>
<pre><code>az vm --help
</code></pre></li>
<li><p>Run the following command to get a list of arguments and examples for the <strong>Create Virtual Machine</strong> command:</p>
<pre><code>az vm create --help
</code></pre></li>
<li><p>Run the following command to create a new <strong>virtual machine</strong> with the following settings, be sure to record the password you are asked to create below you will need it later in the lab to access your virtual machine:</p>
<ul>
<li><p>Resource group: <strong>ContainerCompute</strong></p>
</li>
<li><p>Name: <strong>quickvm</strong></p>
</li>
<li><p>Image: <strong>Debian</strong></p>
</li>
<li><p>Admin-Username: <strong>student</strong></p>
</li>
<li><p>Admin-Password: <strong>\<createyourpassword\></createyourpassword\></strong></p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Replace <strong><code>&lt;CreateYourPassword&gt;</code></strong> in the command below with your own password.</p>
</blockquote>
<pre><code>az vm create --resource-group ContainerCompute --name quickvm --image Debian --admin-username student --admin-password &lt;CreateYourPassword&gt;
</code></pre><blockquote>
<p><strong>Note</strong>: Wait for the VM to be created. After the process completes, the command will return a  JavaScript Object Notation (JSON) file containing details about the machine.</p>
</blockquote>
</li>
<li><p>Run the following command to get a more detailed JSON file that contains various metadata about the newly created VM:</p>
<pre><code>az vm show --resource-group ContainerCompute --name quickvm
</code></pre></li>
<li><p>Run the following command to list all the IP addresses associated with the VM:</p>
<pre><code>az vm list-ip-addresses --resource-group ContainerCompute --name quickvm
</code></pre></li>
<li><p>Run the following command to filter the output to only return the first IP address value:</p>
<pre><code>az vm list-ip-addresses --resource-group ContainerCompute --name quickvm --query &apos;[].{ip:virtualMachine.network.publicIpAddresses[0].ipAddress}&apos; --output tsv
</code></pre></li>
<li><p>Run the following command to store the results of the previous command in a new Bash shell variable named <em>ipAddress</em>:</p>
<pre><code>ipAddress=$(az vm list-ip-addresses --resource-group ContainerCompute --name quickvm --query &apos;[].{ip:virtualMachine.network.publicIpAddresses[0].ipAddress}&apos; --output tsv)
</code></pre></li>
<li><p>Run the following command to render the value of the Bash shell variable <em>ipAddress</em>:</p>
<pre><code>echo $ipAddress
</code></pre></li>
<li><p>Run the following command to connect to the VM that you created previously in this lab, by using the Secure Shell (SSH) tool and the IP address stored in the Bash shell variable <em>ipAddress</em>:</p>
<pre><code>ssh student@$ipAddress
</code></pre></li>
<li><p>The SSH tool informs you that the authenticity of the host canât be established and then asks if you want to continue connecting. Enter <strong>yes</strong>, and then select Enter to continue connecting to the VM.</p>
</li>
<li><p>The SSH tool then asks for a password. Enter the password you created earlier, and then select Enter to authenticate with the VM.</p>
</li>
<li><p>After connecting to the VM by using SSH, run the following command to get metadata describing the Linux VM:</p>
<pre><code>uname -a
</code></pre></li>
<li><p>Use the <strong>exit</strong> command to end your SSH session:</p>
<pre><code>exit
</code></pre></li>
<li><p>Close the <strong>Cloud Shell</strong> pane in the portal.
<br></p>
</li>
</ol>
<h2 id="review">Review</h2>
<p>In this exercise, you used Cloud Shell to create a VM as part of an automated script.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Run_container.html" class="navigation navigation-prev " aria-label="Previous page: Run container images in Azure Container Instances">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="lab02.html" class="navigation navigation-next " aria-label="Next page: Lab 02 - Create a Docker container image and deploy it to Azure Container Registry">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Lab 01 - Create a VM by using the Azure Command-Line Interface (CLI)","level":"3.1","depth":1,"next":{"title":"Lab 02 - Create a Docker container image and deploy it to Azure Container Registry","level":"3.2","depth":1,"path":"M1/01/lab02.md","ref":"M1/01/lab02.md","articles":[]},"previous":{"title":"Run container images in Azure Container Instances","level":"2.1.4","depth":2,"path":"M1/01/Run_container.md","ref":"M1/01/Run_container.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"M1/01/lab01.md","mtime":"2022-12-19T22:08:56.000Z","type":"markdown"},"gitbook":{"version":"4.0.4","time":"2022-12-20T16:54:16.340Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

