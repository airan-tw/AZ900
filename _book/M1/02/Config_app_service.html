
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Configure web app settings Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.4">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Scaling_app_service.html" />
    
    
    <link rel="prev" href="Azure_app_service.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">About</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    AZURE JOURNEY
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop Azure Compute Solutions</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../01/">
            
                <a href="../01/">
            
                    
                    Implement IaaS solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../01/Provision_vm.html">
            
                <a href="../01/Provision_vm.html">
            
                    
                    Provision virtual machines in Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../01/Create_arm.html">
            
                <a href="../01/Create_arm.html">
            
                    
                    Create and deploy Azure Resource Manager templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../01/Manage_container.html">
            
                <a href="../01/Manage_container.html">
            
                    
                    Manage container images in Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../01/Run_container.html">
            
                <a href="../01/Run_container.html">
            
                    
                    Run container images in Azure Container Instances
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on LABS</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../01/lab01.html">
            
                <a href="../01/lab01.html">
            
                    
                    Lab 01 - Create a VM by using the Azure Command-Line Interface (CLI)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../01/lab02.html">
            
                <a href="../01/lab02.html">
            
                    
                    Lab 02 - Create a Docker container image and deploy it to Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../01/lab03.html">
            
                <a href="../01/lab03.html">
            
                    
                    Lab 03 - Deploy an Azure container instance
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="./">
            
                <a href="./">
            
                    
                    Create Azure App Service Web Apps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="Azure_app_service.html">
            
                <a href="Azure_app_service.html">
            
                    
                    Explore Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.1.2" data-path="Config_app_service.html">
            
                <a href="Config_app_service.html">
            
                    
                    Configure web app settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="Scaling_app_service.html">
            
                <a href="Scaling_app_service.html">
            
                    
                    Scale apps in Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="Azure_app_service_deploy.html">
            
                <a href="Azure_app_service_deploy.html">
            
                    
                    Explore Azure App Service deployment slots
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="lab01.html">
            
                <a href="lab01.html">
            
                    
                    LAB 01 - Build a backend API by using Azure Storage and the Web Apps feature of Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="lab02.html">
            
                <a href="lab02.html">
            
                    
                    LAB 02 - Build a front-end web application by using Azure Web Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="lab03.html">
            
                <a href="lab03.html">
            
                    
                    LAB 03 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../03/">
            
                <a href="../03/">
            
                    
                    Implemente Azure functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../03/Azure_functions.html">
            
                <a href="../03/Azure_functions.html">
            
                    
                    Explore Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../03/Develop_azure_functions.html">
            
                <a href="../03/Develop_azure_functions.html">
            
                    
                    Develop Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../03/Implement_functions.html">
            
                <a href="../03/Implement_functions.html">
            
                    
                    Implement Durable Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../03/lab01.html">
            
                <a href="../03/lab01.html">
            
                    
                    LAB 01 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../03/lab02.html">
            
                <a href="../03/lab02.html">
            
                    
                    LAB 02 - Configure a local Azure Functions project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../03/lab03.html">
            
                <a href="../03/lab03.html">
            
                    
                    LAB 03 - Create a function thatâs triggered by an HTTP request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../03/lab04.html">
            
                <a href="../03/lab04.html">
            
                    
                    LAB 04 - Create a function that triggers on a schedule
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../03/lab05.html">
            
                <a href="../03/lab05.html">
            
                    
                    LAB 05 - Create a function that integrates with other services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../03/lab06.html">
            
                <a href="../03/lab06.html">
            
                    
                    LAB 06 - Deploy a local function project to an Azure Functions app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../03/lab07.html">
            
                <a href="../03/lab07.html">
            
                    
                    LAB 07 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop for Azure storage</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../../M2/01/">
            
                <a href="../../M2/01/">
            
                    
                    Develop solutions that use Cosmos DB storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../../M2/02/">
            
                <a href="../../M2/02/">
            
                    
                    Develop solutions that use blob storage
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Configure web app settings</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="configure-web-app-settings">Configure web app settings</h2>
<p>In App Service, app settings are variables passed as environment variables to the application code. For Linux apps and custom containers, App Service passes app settings to the container using the <code>--env</code> flag to set the environment variable in the container.</p>
<p>Application settings can be accessed by navigating to your app&apos;s management page and selecting <strong>Configuration &gt; Application Settings.</strong></p>
<p><img src="images/Config_app_service_01.png" alt="alt text"></p>
<p>For ASP.NET and ASP.NET Core developers, setting app settings in App Service are like setting them in <code>&lt;appSettings&gt;</code> in Web.config or appsettings.json, but the values in App Service override the ones in Web.config or appsettings.json. You can keep development settings (for example, local MySQL password) in Web.config or appsettings.json, but production secrets (for example, Azure MySQL database password) safe in App Service. The same code uses your development settings when you debug locally, and it uses your production secrets when deployed to Azure.</p>
<p>App settings are always encrypted when stored (encrypted-at-rest).</p>
<h3 id="adding-and-editing-settings">Adding and editing settings</h3>
<p>To add a new app setting, click <strong>New application setting</strong>. If you are using deployment slots you can specify if your setting is swappable or not. In the dialog, you can stick the setting to the current slot.</p>
<p><img src="images/Config_app_service_02.png" alt="alt text"></p>
<p>To edit a setting, click the <strong>Edit</strong> button on the right side.</p>
<p>When finished, click <strong>Update</strong>. Don&apos;t forget to click Save back in the <strong>Configuration page.</strong></p>
<h3 id="editing-application-settings-in-bulk">Editing application settings in bulk</h3>
<p>To add or edit app settings in bulk, click the <strong>Advanced</strong> edit button. When finished, click <strong>Update</strong>. App settings have the following JSON formatting:</p>
<pre><code class="lang-azurecli-interactive">[
  {
    &quot;name&quot;: &quot;&lt;key-1&gt;&quot;,
    &quot;value&quot;: &quot;&lt;value-1&gt;&quot;,
    &quot;slotSetting&quot;: false
  },
  {
    &quot;name&quot;: &quot;&lt;key-2&gt;&quot;,
    &quot;value&quot;: &quot;&lt;value-2&gt;&quot;,
    &quot;slotSetting&quot;: false
  },
  ...
]
</code></pre>
<h3 id="configure-connection-strings">Configure connection strings</h3>
<p>For ASP.NET and ASP.NET Core developers, the values you set in App Service override the ones in Web.config. For other language stacks, it&apos;s better to use app settings instead, because connection strings require special formatting in the variable keys in order to access the values. Connection strings are always encrypted when stored (encrypted-at-rest).</p>
<p>Adding and editing connection strings follow the same principles as other app settings and they can also be tied to deployment slots. Below is an example of connection strings in JSON formatting that you would use for bulk adding or editing.</p>
<pre><code class="lang-azurecli-interactive">[
  {
    &quot;name&quot;: &quot;name-1&quot;,
    &quot;value&quot;: &quot;conn-string-1&quot;,
    &quot;type&quot;: &quot;SQLServer&quot;,
    &quot;slotSetting&quot;: false
  },
  {
    &quot;name&quot;: &quot;name-2&quot;,
    &quot;value&quot;: &quot;conn-string-2&quot;,
    &quot;type&quot;: &quot;PostgreSQL&quot;,
    &quot;slotSetting&quot;: false
  },
  ...
]
</code></pre>
<p><br></p>
<h2 id="configure-general-settings">Configure general settings</h2>
<p>In the <strong>Configuration &gt; General settings</strong> section you can configure some common settings for your app. Some settings require you to scale up to higher pricing tiers.</p>
<p>Below is a list of the currently available settings:</p>
<p><img src="images/Config_app_service_03.png" alt="alt text"></p>
<p><br></p>
<h2 id="configure-path-mappings">Configure path mappings</h2>
<p>In the <strong>Configuration &gt; Path mappings</strong> section you can configure handler mappings, and virtual application and directory mappings. <strong>The Path mappings</strong> page will display different options based on the OS type.</p>
<p><img src="images/Config_app_service_04.png" alt="alt text"></p>
<p><br></p>
<h2 id="enable-diagnostic-logging">Enable diagnostic logging</h2>
<p>There are built-in diagnostics to assist with debugging an App Service app. In this lesson, you will learn how to enable diagnostic logging and add instrumentation to your application, as well as how to access the information logged by Azure.</p>
<p>The table below shows the types of logging, the platforms supported, and where the logs can be stored and located for accessing the information.</p>
<p><img src="images/Config_app_service_05.png" alt="alt text"></p>
<h3 id="enable-application-logging-windows">Enable application logging (Windows)</h3>
<ol>
<li><p>To enable application logging for Windows apps in the Azure portal, navigate to your app and select <strong>App Service logs.</strong></p>
</li>
<li><p>Select <strong>On</strong> for either <strong>Application Logging (Filesystem)</strong> or <strong>Application Logging (Blob)</strong>, or both. The <strong>Filesystem</strong> option is for temporary debugging purposes, and turns itself off in 12 hours. The <strong>Blob</strong> option is for long-term logging, and needs a blob storage container to write logs to.</p>
</li>
<li><p>You can also set the <strong>Level</strong> of details.</p>
</li>
<li><p>When finished, select Save.</p>
</li>
</ol>
<h3 id="enable-application-logging-linuxcontainer">Enable application logging (Linux/Container)</h3>
<ol>
<li><p>In <strong>Application logging</strong>, select <strong>File System</strong>.</p>
</li>
<li><p>In <strong>Quota (MB)</strong>, specify the disk quota for the application logs. In <strong>Retention Period (Days)</strong>, set the number of days the logs should be retained.</p>
</li>
<li><p>When finished, select <strong>Save</strong>.</p>
</li>
</ol>
<h3 id="enable-web-server-logging">Enable web server logging</h3>
<ol>
<li><p>In <strong>App Service logs</strong> set the <strong>Application logging</strong> option to <strong>File System</strong>.</p>
</li>
<li><p>In <strong>Quota (MB)</strong>, specify the disk quota for the application logs. In <strong>Retention Period (Days)</strong>, set the number of days the logs should be retained.</p>
</li>
<li><p>When finished, select <strong>Save</strong>.</p>
</li>
</ol>
<h3 id="add-log-messages-in-code">Add log messages in code</h3>
<p>In your application code, you use the usual logging facilities to send log messages to the application logs. For example:</p>
<ul>
<li>ASP.NET applications can use the System.Diagnostics.Trace class to log information to the application diagnostics log. For example:</li>
</ul>
<pre><code class="lang-azurecli-interactive">System.Diagnostics.Trace.TraceError(&quot;If you&apos;re seeing this, something bad happened&quot;);
</code></pre>
<ul>
<li>By default, ASP.NET Core uses the <code>Microsoft.Extensions.Logging.AzureAppServices</code> logging provider.</li>
</ul>
<h3 id="stream-logs">Stream logs</h3>
<p>Before you stream logs in real time, enable the log type that you want. Any information written to files ending in .txt, .log, or .htm that are stored in the <code>/LogFiles</code> directory (<code>d:/home/logfiles</code>) is streamed by App Service.</p>
<ul>
<li><p>Azure Portal - To stream logs in the Azure portal, navigate to your app and select <strong>Log stream</strong>.</p>
</li>
<li><p>Azure CLI - To stream logs live in Cloud Shell, use the following command:</p>
</li>
</ul>
<pre><code class="lang-azurecli-interactive">az webapp log tail --name appname --resource-group myResourceGroup
</code></pre>
<ul>
<li>Local console - To stream logs in the local console, install Azure CLI and sign in to your account. Once signed in, follow the instructions for Azure CLI above.</li>
</ul>
<h3 id="access-log-files">Access log files</h3>
<p>If you configure the Azure Storage blobs option for a log type, you need a client tool that works with Azure Storage.</p>
<p>For logs stored in the App Service file system, the easiest way is to download the ZIP file in the browser at:</p>
<ul>
<li><p>Linux/container apps: <code>https://&lt;app-name&gt;.scm.azurewebsites.net/api/logs/docker/zip</code></p>
</li>
<li><p>Windows apps: <code>https://&lt;app-name&gt;.scm.azurewebsites.net/api/dump</code></p>
</li>
</ul>
<p>For Linux/container apps, the ZIP file contains console output logs for both the docker host and the docker container. For a scaled-out app, the ZIP file contains one set of logs for each instance. In the App Service file system, these log files are the contents of the /home/LogFiles directory.</p>
<p><br></p>
<h2 id="configure-security-certificates">Configure security certificates</h2>
<p>You have been asked to help secure information being transmitted between your companies app and the customer. Azure App Service has tools that let you create, upload, or import a private certificate or a public certificate into App Service.</p>
<p>A certificate uploaded into an app is stored in a deployment unit that is bound to the app service plan&apos;s resource group and region combination (internally called a webspace). This makes the certificate accessible to other apps in the same resource group and region combination.</p>
<p>The table below details the options you have for adding certificates in App Service:</p>
<p><img src="images/Config_app_service_06.png" alt="alt text"></p>
<h3 id="enforce-https">Enforce HTTPS</h3>
<p>By default, anyone can still access your app using HTTP. You can redirect all HTTP requests to the HTTPS port by navigating to your app page and, in the left navigation, select <strong>TLS/SSL settings</strong>. Then, in <strong>HTTPS Only</strong>, select <strong>On</strong>.</p>
<p><img src="images/Config_app_service_07.png" alt="alt text"></p>
<p><br></p>
<h2 id="manage-app-features">Manage app features</h2>
<p>Feature management is a modern software-development practice that decouples feature release from code deployment and enables quick changes to feature availability on demand. It uses a technique called feature flags (also known as feature toggles, feature switches, and so on) to dynamically administer a feature&apos;s lifecycle.</p>
<p><img src="images/Config_app_service_08.png" alt="alt text"></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Azure_app_service.html" class="navigation navigation-prev " aria-label="Previous page: Explore Azure App Service">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Scaling_app_service.html" class="navigation navigation-next " aria-label="Next page: Scale apps in Azure App Service">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Configure web app settings","level":"4.1.2","depth":2,"next":{"title":"Scale apps in Azure App Service","level":"4.1.3","depth":2,"path":"M1/02/Scaling_app_service.md","ref":"M1/02/Scaling_app_service.md","articles":[]},"previous":{"title":"Explore Azure App Service","level":"4.1.1","depth":2,"path":"M1/02/Azure_app_service.md","ref":"M1/02/Azure_app_service.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"M1/02/Config_app_service.md","mtime":"2022-12-19T22:08:56.000Z","type":"markdown"},"gitbook":{"version":"4.0.4","time":"2022-12-20T16:54:16.340Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

