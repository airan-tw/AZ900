
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>5.2. Manage the Azure Blob storage lifecycle Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.4">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Working_blob_storage.html" />
    
    
    <link rel="prev" href="Blob_storage_concepts.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">About</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    AZURE JOURNEY
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop Azure Compute Solutions</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../M1/01/">
            
                <a href="../../M1/01/">
            
                    
                    1. Implement IaaS solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../M1/01/Provision_vm.html">
            
                <a href="../../M1/01/Provision_vm.html">
            
                    
                    1.1. Provision virtual machines in Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../M1/01/Create_arm.html">
            
                <a href="../../M1/01/Create_arm.html">
            
                    
                    1.2. Create and deploy Azure Resource Manager templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../M1/01/Manage_container.html">
            
                <a href="../../M1/01/Manage_container.html">
            
                    
                    1.3. Manage container images in Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../../M1/01/Run_container.html">
            
                <a href="../../M1/01/Run_container.html">
            
                    
                    1.4 Run container images in Azure Container Instances
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on LABS</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../M1/01/lab01.html">
            
                <a href="../../M1/01/lab01.html">
            
                    
                    Lab 1 - Create a VM by using the Azure Command-Line Interface (CLI)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../M1/01/lab02.html">
            
                <a href="../../M1/01/lab02.html">
            
                    
                    Lab 2 - Create a Docker container image and deploy it to Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../M1/01/lab03.html">
            
                <a href="../../M1/01/lab03.html">
            
                    
                    Lab 3 - Deploy an Azure container instance
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../M1/02/">
            
                <a href="../../M1/02/">
            
                    
                    2. Create Azure App Service Web Apps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../M1/02/Azure_app_service.html">
            
                <a href="../../M1/02/Azure_app_service.html">
            
                    
                    2.1. Explore Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../M1/02/Config_app_service.html">
            
                <a href="../../M1/02/Config_app_service.html">
            
                    
                    2.2. Configure web app settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../../M1/02/Scaling_app_service.html">
            
                <a href="../../M1/02/Scaling_app_service.html">
            
                    
                    2.3. Scale apps in Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../../M1/02/Azure_app_service_deploy.html">
            
                <a href="../../M1/02/Azure_app_service_deploy.html">
            
                    
                    2.4. Explore Azure App Service deployment slots
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../M1/02/lab01.html">
            
                <a href="../../M1/02/lab01.html">
            
                    
                    LAB 1 - Build a backend API by using Azure Storage and the Web Apps feature of Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../M1/02/lab02.html">
            
                <a href="../../M1/02/lab02.html">
            
                    
                    LAB 2 - Build a front-end web application by using Azure Web Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../M1/02/lab03.html">
            
                <a href="../../M1/02/lab03.html">
            
                    
                    LAB 3 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../M1/03/">
            
                <a href="../../M1/03/">
            
                    
                    3. Implemente Azure functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../M1/03/Azure_functions.html">
            
                <a href="../../M1/03/Azure_functions.html">
            
                    
                    3.1. Explore Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../M1/03/Develop_azure_functions.html">
            
                <a href="../../M1/03/Develop_azure_functions.html">
            
                    
                    3.2. Develop Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../../M1/03/Implement_functions.html">
            
                <a href="../../M1/03/Implement_functions.html">
            
                    
                    3.3. Implement Durable Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../M1/03/lab01.html">
            
                <a href="../../M1/03/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../M1/03/lab02.html">
            
                <a href="../../M1/03/lab02.html">
            
                    
                    LAB 2 - Configure a local Azure Functions project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../../M1/03/lab03.html">
            
                <a href="../../M1/03/lab03.html">
            
                    
                    LAB 3 - Create a function thatâs triggered by an HTTP request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../../M1/03/lab04.html">
            
                <a href="../../M1/03/lab04.html">
            
                    
                    LAB 4 - Create a function that triggers on a schedule
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../../M1/03/lab05.html">
            
                <a href="../../M1/03/lab05.html">
            
                    
                    LAB 5 - Create a function that integrates with other services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../../M1/03/lab06.html">
            
                <a href="../../M1/03/lab06.html">
            
                    
                    LAB 6 - Deploy a local function project to an Azure Functions app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../../M1/03/lab07.html">
            
                <a href="../../M1/03/lab07.html">
            
                    
                    LAB 7 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop for Azure storage</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../01/">
            
                <a href="../01/">
            
                    
                    4. Develop solutions that use Cosmos DB storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="../01/Cosmosdb_overview.html">
            
                <a href="../01/Cosmosdb_overview.html">
            
                    
                    4.1. Explore Azure Cosmos DB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.2" data-path="../01/Cosmosdb_structure.html">
            
                <a href="../01/Cosmosdb_structure.html">
            
                    
                    4.2. Implement partitioning in Azure Cosmos DB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.3" data-path="../01/Working_cosmosdb.html">
            
                <a href="../01/Working_cosmosdb.html">
            
                    
                    4.3. Work with Azure Cosmos DB
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../01/lab01.html">
            
                <a href="../01/lab01.html">
            
                    
                    LAB 1 - Creating data store resources in Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../01/lab02.html">
            
                <a href="../01/lab02.html">
            
                    
                    LAB 2 - Review and upload data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="../01/lab03.html">
            
                <a href="../01/lab03.html">
            
                    
                    LAB 3 - Configure a .NET web application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="../01/lab04.html">
            
                <a href="../01/lab04.html">
            
                    
                    LAB 4 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="./">
            
                <a href="./">
            
                    
                    5. Develop solutions that use blob storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1.1" data-path="Blob_storage_concepts.html">
            
                <a href="Blob_storage_concepts.html">
            
                    
                    5.1. Explore Azure Blob storage
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="10.1.2" data-path="Blob_storage_lifecycle.html">
            
                <a href="Blob_storage_lifecycle.html">
            
                    
                    5.2. Manage the Azure Blob storage lifecycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.3" data-path="Working_blob_storage.html">
            
                <a href="Working_blob_storage.html">
            
                    
                    5.3. Work with Azure Blob storage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="lab01.html">
            
                <a href="lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="lab02.html">
            
                <a href="lab02.html">
            
                    
                    LAB 2 - Upload a blob into a container
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="lab03.html">
            
                <a href="lab03.html">
            
                    
                    LAB 3 - Access containers by using the .NET SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="lab04.html">
            
                <a href="lab04.html">
            
                    
                    LAB 4 - Retrieve blob Uniform Resource Identifiers (URIs) by using the .NET SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="lab05.html">
            
                <a href="lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Implement Azure security</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="../../M3/01/">
            
                <a href="../../M3/01/">
            
                    
                    6. Implement use authentication and authorization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1.1" data-path="../../M3/01/Implement_auth.html">
            
                <a href="../../M3/01/Implement_auth.html">
            
                    
                    6.1. Explore the Microsoft identity platform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.2" data-path="../../M3/01/Microsoft_id_platform.html">
            
                <a href="../../M3/01/Microsoft_id_platform.html">
            
                    
                    6.2. Implement authentication by using the Microsoft Authentication Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.3" data-path="../../M3/01/Implement_shared_access.html">
            
                <a href="../../M3/01/Implement_shared_access.html">
            
                    
                    6.3. Implement shared access signatures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.4" data-path="../../M3/01/Microsoft_graph.html">
            
                <a href="../../M3/01/Microsoft_graph.html">
            
                    
                    6.4. Explore Microsoft Graph
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="13.1" data-path="../../M3/01/lab01.html">
            
                <a href="../../M3/01/lab01.html">
            
                    
                    LAB 1 - Configure a single-tenant Azure AD environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="../../M3/01/lab02.html">
            
                <a href="../../M3/01/lab02.html">
            
                    
                    LAB 2 - Create a single-tenant ASP.NET web app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="../../M3/01/lab03.html">
            
                <a href="../../M3/01/lab03.html">
            
                    
                    LAB 3 - Clean up your lab environment
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="../../M3/02/">
            
                <a href="../../M3/02/">
            
                    
                    7. Implement secure cloud solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="14.1.1" data-path="../../M3/02/Implement_key_vault.html">
            
                <a href="../../M3/02/Implement_key_vault.html">
            
                    
                    7.1. Implement Azure Key Vault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.1.2" data-path="../../M3/02/Implement_identities.html">
            
                <a href="../../M3/02/Implement_identities.html">
            
                    
                    7.2. Implement managed identities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.1.3" data-path="../../M3/02/Implement_app_config.html">
            
                <a href="../../M3/02/Implement_app_config.html">
            
                    
                    7.3. Implement Azure App Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="15.1" data-path="../../M3/02/lab01.html">
            
                <a href="../../M3/02/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="../../M3/02/lab02.html">
            
                <a href="../../M3/02/lab02.html">
            
                    
                    LAB 2 - Configure secrets and identities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="../../M3/02/lab03.html">
            
                <a href="../../M3/02/lab03.html">
            
                    
                    LAB 3 - Build an Azure Functions app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="../../M3/02/lab04.html">
            
                <a href="../../M3/02/lab04.html">
            
                    
                    LAB 4 - Access Azure Blob Storage data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.5" data-path="../../M3/02/lab05.html">
            
                <a href="../../M3/02/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Monitor, troubleshoot, and optimize Azure solutions</li>
        
        
    
        <li class="chapter " data-level="16.1" data-path="../../M4/01/">
            
                <a href="../../M4/01/">
            
                    
                    8. Integrate caching and content delivery within solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1.1" data-path="../../M4/01/Develop_cache_redis.html">
            
                <a href="../../M4/01/Develop_cache_redis.html">
            
                    
                    8.1. Develop for Azure Cache for Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="16.1.2" data-path="../../M4/01/Develop_storage_cdn.html">
            
                <a href="../../M4/01/Develop_storage_cdn.html">
            
                    
                    8.2. Develop for storage on CDNs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="17.1" data-path="../../M4/01/lab01.html">
            
                <a href="../../M4/01/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.2" data-path="../../M4/01/lab02.html">
            
                <a href="../../M4/01/lab02.html">
            
                    
                    LAB 2 - Configure Content Delivery Network and endpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.3" data-path="../../M4/01/lab03.html">
            
                <a href="../../M4/01/lab03.html">
            
                    
                    LAB 3 - Upload and configure static web content
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.4" data-path="../../M4/01/lab04.html">
            
                <a href="../../M4/01/lab04.html">
            
                    
                    LAB 4 - Use Content Delivery Network endpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.5" data-path="../../M4/01/lab05.html">
            
                <a href="../../M4/01/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="18.1" data-path="../../M4/02/">
            
                <a href="../../M4/02/">
            
                    
                    9. Instrument solutions to support monitoring and logging
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1.1" data-path="../../M4/02/Monitor_app.html">
            
                <a href="../../M4/02/Monitor_app.html">
            
                    
                    9.1. Monitor app performance
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="19.1" data-path="../../M4/02/lab01.html">
            
                <a href="../../M4/02/lab01.html">
            
                    
                    LAB 1 - Create and configure Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.2" data-path="../../M4/02/lab02.html">
            
                <a href="../../M4/02/lab02.html">
            
                    
                    LAB 2 - Monitor a local web API by using Application Insights
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.3" data-path="../../M4/02/lab03.html">
            
                <a href="../../M4/02/lab03.html">
            
                    
                    LAB 3 - Monitor a web API using Application Insights
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.4" data-path="../../M4/02/lab04.html">
            
                <a href="../../M4/02/lab04.html">
            
                    
                    LAB 4 - Application Insights logging with .NET
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.5" data-path="../../M4/02/lab05.html">
            
                <a href="../../M4/02/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Connect to and consume Azure services and third-party services</li>
        
        
    
        <li class="chapter " data-level="20.1" data-path="../../M5/02/">
            
                <a href="../../M5/02/">
            
                    
                    10. Implement API Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="20.1.1" data-path="../../M5/02/API_Management.html">
            
                <a href="../../M5/02/API_Management.html">
            
                    
                    10.1. Explore API Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="21.1" data-path="../../M5/02/lab01.html">
            
                <a href="../../M5/02/lab01.html">
            
                    
                    LAB 1 - Create an Azure App Service resource by using a Docker container image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.2" data-path="../../M5/02/lab02.html">
            
                <a href="../../M5/02/lab02.html">
            
                    
                    LAB 2 - Build an API proxy tier by using Azure API Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.3" data-path="../../M5/02/lab03.html">
            
                <a href="../../M5/02/lab03.html">
            
                    
                    LAB 3 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="22.1" data-path="../../M5/03/">
            
                <a href="../../M5/03/">
            
                    
                    11. Develop event-based solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="22.1.1" data-path="../../M5/03/Event_grid.html">
            
                <a href="../../M5/03/Event_grid.html">
            
                    
                    11.1. Explore Azure Event Grid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.1.2" data-path="../../M5/03/Event_hubs.html">
            
                <a href="../../M5/03/Event_hubs.html">
            
                    
                    11.2. Explore Azure Event Hubs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="23.1" data-path="../../M5/03/lab01.html">
            
                <a href="../../M5/03/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.2" data-path="../../M5/03/lab02.html">
            
                <a href="../../M5/03/lab02.html">
            
                    
                    LAB 2 - Create an Event Grid subscription
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.3" data-path="../../M5/03/lab03.html">
            
                <a href="../../M5/03/lab03.html">
            
                    
                    LAB 3 - Publish Event Grid events from .NET
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.4" data-path="../../M5/03/lab04.html">
            
                <a href="../../M5/03/lab04.html">
            
                    
                    LAB 4 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="24.1" data-path="../../M5/04/">
            
                <a href="../../M5/04/">
            
                    
                    12. Develop message-based solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="24.1.1" data-path="../../M5/04/Message_queues.html">
            
                <a href="../../M5/04/Message_queues.html">
            
                    
                    12.1. Discover Azure message queues
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="25.1" data-path="../../M5/04/lab01.html">
            
                <a href="../../M5/04/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="25.2" data-path="../../M5/04/lab0.md">
            
                <span>
            
                    
                    LAB 2 - Create a .NET Core project to publish messages to a Service Bus queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="25.3" data-path="../../M5/04/lab03.html">
            
                <a href="../../M5/04/lab03.html">
            
                    
                    LAB 3 - Create a .NET Core project to read messages from a Service Bus queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="25.4" data-path="../../M5/04/lab04.html">
            
                <a href="../../M5/04/lab04.html">
            
                    
                    LAB 4 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >5.2. Manage the Azure Blob storage lifecycle</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="azure-blob-storage-lifecycle">Azure Blob storage lifecycle</h2>
<p>Data sets have unique lifecycles. Early in the lifecycle, people access some data often. But the need for access drops drastically as the data ages. Some data stays idle in the cloud and is rarely accessed once stored. Some data expires days or months after creation, while other data sets are actively read and modified throughout their lifetimes.</p>
<h3 id="access-tiers">Access tiers</h3>
<p><img src="images/storage_lifecycle_01.png" alt="alt text"></p>
<p>Azure storage offers different access tiers, allowing you to store blob object data in the most cost-effective manner. Available access tiers include:</p>
<ul>
<li><strong>Hot</strong> - Optimized for storing data that is accessed frequently.</li>
<li><strong>Cool</strong> - Optimized for storing data that is infrequently accessed and stored for at least 30 days.</li>
<li><strong>Archive</strong> - Optimized for storing data that is rarely accessed and stored for at least 180 days with flexible latency requirements, on the order of hours.</li>
</ul>
<p>The following considerations apply to the different access tiers:</p>
<ul>
<li>The access tier can be set on a blob during or after upload.</li>
<li>Only the hot and cool access tiers can be set at the account level. The archive access tier can only be set at the blob level.</li>
<li>Data in the cool access tier has slightly lower availability, but still has high durability, retrieval latency, and throughput characteristics similar to hot data.</li>
<li>Data in the archive access tier is stored offline. The archive tier offers the lowest storage costs but also the highest access costs and latency.</li>
<li>The hot and cool tiers support all redundancy options. The archive tier supports only LRS, GRS, and RA-GRS.</li>
<li>Data storage limits are set at the account level and not per access tier. You can choose to use all of your limit in one tier or across all three tiers.</li>
</ul>
<h3 id="manage-the-data-lifecycle">Manage the data lifecycle</h3>
<p>Azure Blob storage lifecycle management offers a rich, rule-based policy for General Purpose v2 and Blob storage accounts. Use the policy to transition your data to the appropriate access tiers or expire at the end of the data&apos;s lifecycle. The lifecycle management policy lets you:</p>
<ul>
<li>Transition blobs to a cooler storage tier (hot to cool, hot to archive, or cool to archive) to optimize for performance and cost</li>
<li>Delete blobs at the end of their lifecycles</li>
<li>Define rules to be run once per day at the storage account level</li>
<li>Apply rules to containers or a subset of blobs (using prefixes as filters)</li>
</ul>
<p>Consider a scenario where data gets frequent access during the early stages of the lifecycle, but only occasionally after two weeks. Beyond the first month, the data set is rarely accessed. In this scenario, hot storage is best during the early stages. Cool storage is most appropriate for occasional access. Archive storage is the best tier option after the data ages over a month. By adjusting storage tiers in respect to the age of data, you can design the least expensive storage options for your needs. To achieve this transition, lifecycle management policy rules are available to move aging data to cooler tiers.</p>
<h3 id="discover-blob-storage-lifecycle-policies">Discover Blob storage lifecycle policies</h3>
<p>A lifecycle management policy is a collection of rules in a JSON document. Each rule definition within a policy includes a filter set and an action set. The filter set limits rule actions to a certain set of objects within a container or objects names. The action set applies the tier or delete actions to the filtered set of objects.:</p>
<pre><code class="lang-azurecli-interactive">{
  &quot;rules&quot;: [
    {
      &quot;name&quot;: &quot;rule1&quot;,
      &quot;enabled&quot;: true,
      &quot;type&quot;: &quot;Lifecycle&quot;,
      &quot;definition&quot;: {...}
    },
    {
      &quot;name&quot;: &quot;rule2&quot;,
      &quot;type&quot;: &quot;Lifecycle&quot;,
      &quot;definition&quot;: {...}
    }
  ]
}
</code></pre>
<p>A policy is a collection of rules:</p>
<table>
<thead>
<tr>
<th><strong>Parameter name</strong></th>
<th><strong>Parameter type</strong></th>
<th><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rules</code></td>
<td>An array of rule objects</td>
<td>At least one rule is required in a policy. You can define up to 100 rules in a policy.</td>
</tr>
</tbody>
</table>
<p>Each rule within the policy has several parameters:</p>
<table>
<thead>
<tr>
<th><strong>Parameter name</strong></th>
<th><strong>Parameter type</strong></th>
<th><strong>Notes</strong></th>
<th><strong>Required</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>An array of rule objects</td>
<td>A rule name can include up to 256 alphanumeric characters. Rule name is case-sensitive. It must be unique within a policy.</td>
<td>True</td>
</tr>
<tr>
<td><code>enabled</code></td>
<td>An array of rule objects</td>
<td>An optional boolean to allow a rule to be temporary disabled. Default value is true if it&apos;s not set.</td>
<td>False</td>
</tr>
<tr>
<td><code>type</code></td>
<td>An enum value</td>
<td>The current valid type is Lifecycle.</td>
<td>True</td>
</tr>
<tr>
<td><code>definition</code></td>
<td>An object that defines the lifecycle rule</td>
<td>Each definition is made up of a filter set and an action set.</td>
<td>True</td>
</tr>
</tbody>
</table>
<h3 id="rules">Rules</h3>
<p>Each rule definition includes a filter set and an action set. The filter set limits rule actions to a certain set of objects within a container or objects names. The action set applies the tier or delete actions to the filtered set of objects.</p>
<p>The following sample rule filters the account to run the actions on objects that exist inside <code>container1</code> and start with <code>foo</code>.</p>
<ul>
<li>Tier blob to cool tier 30 days after last modification</li>
<li>Tier blob to archive tier 90 days after last modification</li>
<li>Delete blob 2,555 days (seven years) after last modification</li>
<li>Delete blob snapshots 90 days after snapshot creation</li>
</ul>
<pre><code class="lang-azurecli-interactive">{
  &quot;rules&quot;: [
    {
      &quot;name&quot;: &quot;ruleFoo&quot;,
      &quot;enabled&quot;: true,
      &quot;type&quot;: &quot;Lifecycle&quot;,
      &quot;definition&quot;: {
        &quot;filters&quot;: {
          &quot;blobTypes&quot;: [ &quot;blockBlob&quot; ],
          &quot;prefixMatch&quot;: [ &quot;container1/foo&quot; ]
        },
        &quot;actions&quot;: {
          &quot;baseBlob&quot;: {
            &quot;tierToCool&quot;: { &quot;daysAfterModificationGreaterThan&quot;: 30 },
            &quot;tierToArchive&quot;: { &quot;daysAfterModificationGreaterThan&quot;: 90 },
            &quot;delete&quot;: { &quot;daysAfterModificationGreaterThan&quot;: 2555 }
          },
          &quot;snapshot&quot;: {
            &quot;delete&quot;: { &quot;daysAfterCreationGreaterThan&quot;: 90 }
          }
        }
      }
    }
  ]
}
</code></pre>
<h2 id="implement-blob-storage-lifecycle-policies">Implement Blob storage lifecycle policies</h2>
<p>You can add, edit, or remove a policy by using any of the following methods:</p>
<ul>
<li>Azure portal</li>
<li>Azure PowerShell</li>
<li>Azure CLI</li>
<li>REST APIs</li>
</ul>
<p>Below are the steps and some examples for the Portal and Azure CLI.</p>
<h2 id="azure-portal">Azure portal</h2>
<p>There are two ways to add a policy through the Azure portal: Azure portal List view, and Azure portal Code view.</p>
<h3 id="azure-portal-list-view">Azure portal List view</h3>
<ol>
<li><p>Sign in to the <a href="https://portal.azure.com/" target="_blank">Azure portal</a>.</p>
</li>
<li><p>Select <strong>All resources</strong> and then select your storage account.</p>
</li>
<li><p>Under <strong>Data management</strong>, select <strong>Lifecycle management</strong> to view or change your rules.</p>
</li>
<li><p>Select the <strong>List view</strong> tab.</p>
</li>
<li><p>Select <strong>Add rule</strong> and then fill out the <strong>Action set</strong> form fields. In the following example, blobs are moved to cool storage if they haven&apos;t been modified for 30 days.</p>
</li>
<li><p>Select <strong>Filter set</strong> to add an optional filter. Then, select Browse to specify a container and folder by which to filter.</p>
</li>
<li><p>Select <strong>Review + add</strong> to review the policy settings.</p>
</li>
<li><p>Select <strong>Add</strong> to add the new policy.</p>
</li>
</ol>
<h3 id="azure-portal-code-view">Azure portal Code view</h3>
<ol>
<li><p>Follow the first three steps above in the List view section.</p>
</li>
<li><p>Select the Code view tab. The following JSON is an example of a policy that moves a block blob whose name begins with log to the cool tier if it has been more than 30 days since the blob was modified.</p>
</li>
</ol>
<pre><code class="lang-azurecli-interactive">{
  &quot;rules&quot;: [
    {
      &quot;enabled&quot;: true,
      &quot;name&quot;: &quot;move-to-cool&quot;,
      &quot;type&quot;: &quot;Lifecycle&quot;,
      &quot;definition&quot;: {
        &quot;actions&quot;: {
          &quot;baseBlob&quot;: {
            &quot;tierToCool&quot;: {
              &quot;daysAfterModificationGreaterThan&quot;: 30
            }
          }
        },
        &quot;filters&quot;: {
          &quot;blobTypes&quot;: [
            &quot;blockBlob&quot;
          ],
          &quot;prefixMatch&quot;: [
            &quot;sample-container/log&quot;
          ]
        }
      }
    }
  ]
}
</code></pre>
<h3 id="azure-cli">Azure CLI</h3>
<p>To add a lifecycle management policy with Azure CLI, write the policy to a JSON file, then call the <code>az storage account management-policy create</code> command to create the policy.</p>
<pre><code class="lang-azurecli-interactive">az storage account management-policy create \
    --account-name &lt;storage-account&gt; \
    --policy @policy.json \
    --resource-group &lt;resource-group&gt;
</code></pre>
<p>A lifecycle management policy must be read or written in full. Partial updates are not supported.</p>
<h2 id="rehydrate-blob-data-from-the-archive-tier">Rehydrate blob data from the archive tier</h2>
<p>While a blob is in the archive access tier, it&apos;s considered to be offline and can&apos;t be read or modified. In order to read or modify data in an archived blob, you must first rehydrate the blob to an online tier, either the hot or cool tier. There are two options for rehydrating a blob that is stored in the archive tier:</p>
<ul>
<li><p><strong>Copy an archived blob to an online tier</strong>: You can rehydrate an archived blob by copying it to a new blob in the hot or cool tier with the Copy Blob or Copy Blob from URL operation. Microsoft recommends this option for most scenarios.</p>
</li>
<li><p><strong>Change a blob&apos;s access tier to an online tier</strong>: You can rehydrate an archived blob to hot or cool by changing its tier using the Set Blob Tier operation.</p>
</li>
</ul>
<p>Rehydrating a blob from the archive tier can take several hours to complete. Microsoft recommends rehydrating larger blobs for optimal performance. Rehydrating several small blobs concurrently may require additional time.</p>
<h3 id="rehydration-priority">Rehydration priority</h3>
<p>When you rehydrate a blob, you can set the priority for the rehydration operation via the optional <code>x-ms-rehydrate-priority</code> header on a Set Blob Tier or Copy Blob/Copy Blob From URL operation. Rehydration priority options include:</p>
<ul>
<li><strong>Standard priority</strong>: The rehydration request will be processed in the order it was received and may take up to 15 hours.</li>
<li><strong>High priority</strong>: The rehydration request will be prioritized over standard priority requests and may complete in under one hour for objects under 10 GB in size.</li>
</ul>
<p>To check the rehydration priority while the rehydration operation is underway, call Get Blob Properties to return the value of the <code>x-ms-rehydrate-priority header</code>. The rehydration priority property returns either Standard or High.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Blob_storage_concepts.html" class="navigation navigation-prev " aria-label="Previous page: 5.1. Explore Azure Blob storage">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Working_blob_storage.html" class="navigation navigation-next " aria-label="Next page: 5.3. Work with Azure Blob storage">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"5.2. Manage the Azure Blob storage lifecycle","level":"10.1.2","depth":2,"next":{"title":"5.3. Work with Azure Blob storage","level":"10.1.3","depth":2,"path":"M2/02/Working_blob_storage.md","ref":"M2/02/Working_blob_storage.md","articles":[]},"previous":{"title":"5.1. Explore Azure Blob storage","level":"10.1.1","depth":2,"path":"M2/02/Blob_storage_concepts.md","ref":"M2/02/Blob_storage_concepts.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"M2/02/Blob_storage_lifecycle.md","mtime":"2022-12-21T22:49:03.805Z","type":"markdown"},"gitbook":{"version":"4.0.4","time":"2022-12-23T21:00:22.927Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

