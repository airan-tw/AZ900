
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>LAB 2 - Review and upload data Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.4">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lab03.html" />
    
    
    <link rel="prev" href="lab01.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">About</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    AZURE JOURNEY
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop Azure Compute Solutions</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../M1/01/">
            
                <a href="../../M1/01/">
            
                    
                    1. Implement IaaS solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../M1/01/Provision_vm.html">
            
                <a href="../../M1/01/Provision_vm.html">
            
                    
                    1.1. Provision virtual machines in Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../M1/01/Create_arm.html">
            
                <a href="../../M1/01/Create_arm.html">
            
                    
                    1.2. Create and deploy Azure Resource Manager templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../M1/01/Manage_container.html">
            
                <a href="../../M1/01/Manage_container.html">
            
                    
                    1.3. Manage container images in Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../../M1/01/Run_container.html">
            
                <a href="../../M1/01/Run_container.html">
            
                    
                    1.4 Run container images in Azure Container Instances
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on LABS</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../M1/01/lab01.html">
            
                <a href="../../M1/01/lab01.html">
            
                    
                    Lab 1 - Create a VM by using the Azure Command-Line Interface (CLI)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../M1/01/lab02.html">
            
                <a href="../../M1/01/lab02.html">
            
                    
                    Lab 2 - Create a Docker container image and deploy it to Azure Container Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../M1/01/lab03.html">
            
                <a href="../../M1/01/lab03.html">
            
                    
                    Lab 3 - Deploy an Azure container instance
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../M1/02/">
            
                <a href="../../M1/02/">
            
                    
                    2. Create Azure App Service Web Apps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../M1/02/Azure_app_service.html">
            
                <a href="../../M1/02/Azure_app_service.html">
            
                    
                    2.1. Explore Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../M1/02/Config_app_service.html">
            
                <a href="../../M1/02/Config_app_service.html">
            
                    
                    2.2. Configure web app settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../../M1/02/Scaling_app_service.html">
            
                <a href="../../M1/02/Scaling_app_service.html">
            
                    
                    2.3. Scale apps in Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../../M1/02/Azure_app_service_deploy.html">
            
                <a href="../../M1/02/Azure_app_service_deploy.html">
            
                    
                    2.4. Explore Azure App Service deployment slots
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../M1/02/lab01.html">
            
                <a href="../../M1/02/lab01.html">
            
                    
                    LAB 1 - Build a backend API by using Azure Storage and the Web Apps feature of Azure App Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../M1/02/lab02.html">
            
                <a href="../../M1/02/lab02.html">
            
                    
                    LAB 2 - Build a front-end web application by using Azure Web Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../M1/02/lab03.html">
            
                <a href="../../M1/02/lab03.html">
            
                    
                    LAB 3 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../M1/03/">
            
                <a href="../../M1/03/">
            
                    
                    3. Implemente Azure functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../M1/03/Azure_functions.html">
            
                <a href="../../M1/03/Azure_functions.html">
            
                    
                    3.1. Explore Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../M1/03/Develop_azure_functions.html">
            
                <a href="../../M1/03/Develop_azure_functions.html">
            
                    
                    3.2. Develop Azure Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../../M1/03/Implement_functions.html">
            
                <a href="../../M1/03/Implement_functions.html">
            
                    
                    3.3. Implement Durable Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../M1/03/lab01.html">
            
                <a href="../../M1/03/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../M1/03/lab02.html">
            
                <a href="../../M1/03/lab02.html">
            
                    
                    LAB 2 - Configure a local Azure Functions project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../../M1/03/lab03.html">
            
                <a href="../../M1/03/lab03.html">
            
                    
                    LAB 3 - Create a function thatâs triggered by an HTTP request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../../M1/03/lab04.html">
            
                <a href="../../M1/03/lab04.html">
            
                    
                    LAB 4 - Create a function that triggers on a schedule
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../../M1/03/lab05.html">
            
                <a href="../../M1/03/lab05.html">
            
                    
                    LAB 5 - Create a function that integrates with other services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../../M1/03/lab06.html">
            
                <a href="../../M1/03/lab06.html">
            
                    
                    LAB 6 - Deploy a local function project to an Azure Functions app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../../M1/03/lab07.html">
            
                <a href="../../M1/03/lab07.html">
            
                    
                    LAB 7 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Develop for Azure storage</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="./">
            
                <a href="./">
            
                    
                    4. Develop solutions that use Cosmos DB storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="Cosmosdb_overview.html">
            
                <a href="Cosmosdb_overview.html">
            
                    
                    4.1. Explore Azure Cosmos DB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.2" data-path="Cosmosdb_structure.html">
            
                <a href="Cosmosdb_structure.html">
            
                    
                    4.2. Implement partitioning in Azure Cosmos DB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.3" data-path="Working_cosmosdb.html">
            
                <a href="Working_cosmosdb.html">
            
                    
                    4.3. Work with Azure Cosmos DB
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="lab01.html">
            
                <a href="lab01.html">
            
                    
                    LAB 1 - Creating data store resources in Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="9.2" data-path="lab02.html">
            
                <a href="lab02.html">
            
                    
                    LAB 2 - Review and upload data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="lab03.html">
            
                <a href="lab03.html">
            
                    
                    LAB 3 - Configure a .NET web application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="lab04.html">
            
                <a href="lab04.html">
            
                    
                    LAB 4 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../02/">
            
                <a href="../02/">
            
                    
                    5. Develop solutions that use blob storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1.1" data-path="../02/Blob_storage_concepts.html">
            
                <a href="../02/Blob_storage_concepts.html">
            
                    
                    5.1. Explore Azure Blob storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.2" data-path="../02/Blob_storage_lifecycle.html">
            
                <a href="../02/Blob_storage_lifecycle.html">
            
                    
                    5.2. Manage the Azure Blob storage lifecycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.3" data-path="../02/Working_blob_storage.html">
            
                <a href="../02/Working_blob_storage.html">
            
                    
                    5.3. Work with Azure Blob storage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="../02/lab01.html">
            
                <a href="../02/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../02/lab02.html">
            
                <a href="../02/lab02.html">
            
                    
                    LAB 2 - Upload a blob into a container
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="../02/lab03.html">
            
                <a href="../02/lab03.html">
            
                    
                    LAB 3 - Access containers by using the .NET SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="../02/lab04.html">
            
                <a href="../02/lab04.html">
            
                    
                    LAB 4 - Retrieve blob Uniform Resource Identifiers (URIs) by using the .NET SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="../02/lab05.html">
            
                <a href="../02/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Implement Azure security</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="../../M3/01/">
            
                <a href="../../M3/01/">
            
                    
                    6. Implement use authentication and authorization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1.1" data-path="../../M3/01/Implement_auth.html">
            
                <a href="../../M3/01/Implement_auth.html">
            
                    
                    6.1. Explore the Microsoft identity platform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.2" data-path="../../M3/01/Microsoft_id_platform.html">
            
                <a href="../../M3/01/Microsoft_id_platform.html">
            
                    
                    6.2. Implement authentication by using the Microsoft Authentication Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.3" data-path="../../M3/01/Implement_shared_access.html">
            
                <a href="../../M3/01/Implement_shared_access.html">
            
                    
                    6.3. Implement shared access signatures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.1.4" data-path="../../M3/01/Microsoft_graph.html">
            
                <a href="../../M3/01/Microsoft_graph.html">
            
                    
                    6.4. Explore Microsoft Graph
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="13.1" data-path="../../M3/01/lab01.html">
            
                <a href="../../M3/01/lab01.html">
            
                    
                    LAB 1 - Configure a single-tenant Azure AD environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="../../M3/01/lab02.html">
            
                <a href="../../M3/01/lab02.html">
            
                    
                    LAB 2 - Create a single-tenant ASP.NET web app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="../../M3/01/lab03.html">
            
                <a href="../../M3/01/lab03.html">
            
                    
                    LAB 3 - Clean up your lab environment
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="../../M3/02/">
            
                <a href="../../M3/02/">
            
                    
                    7. Implement secure cloud solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="14.1.1" data-path="../../M3/02/Implement_key_vault.html">
            
                <a href="../../M3/02/Implement_key_vault.html">
            
                    
                    7.1. Implement Azure Key Vault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.1.2" data-path="../../M3/02/Implement_identities.html">
            
                <a href="../../M3/02/Implement_identities.html">
            
                    
                    7.2. Implement managed identities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.1.3" data-path="../../M3/02/Implement_app_config.html">
            
                <a href="../../M3/02/Implement_app_config.html">
            
                    
                    7.3. Implement Azure App Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="15.1" data-path="../../M3/02/lab01.html">
            
                <a href="../../M3/02/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="../../M3/02/lab02.html">
            
                <a href="../../M3/02/lab02.html">
            
                    
                    LAB 2 - Configure secrets and identities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="../../M3/02/lab03.html">
            
                <a href="../../M3/02/lab03.html">
            
                    
                    LAB 3 - Build an Azure Functions app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="../../M3/02/lab04.html">
            
                <a href="../../M3/02/lab04.html">
            
                    
                    LAB 4 - Access Azure Blob Storage data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.5" data-path="../../M3/02/lab05.html">
            
                <a href="../../M3/02/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Monitor, troubleshoot, and optimize Azure solutions</li>
        
        
    
        <li class="chapter " data-level="16.1" data-path="../../M4/01/">
            
                <a href="../../M4/01/">
            
                    
                    8. Integrate caching and content delivery within solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1.1" data-path="../../M4/01/Develop_cache_redis.html">
            
                <a href="../../M4/01/Develop_cache_redis.html">
            
                    
                    8.1. Develop for Azure Cache for Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="16.1.2" data-path="../../M4/01/Develop_storage_cdn.html">
            
                <a href="../../M4/01/Develop_storage_cdn.html">
            
                    
                    8.2. Develop for storage on CDNs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="17.1" data-path="../../M4/01/lab01.html">
            
                <a href="../../M4/01/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.2" data-path="../../M4/01/lab02.html">
            
                <a href="../../M4/01/lab02.html">
            
                    
                    LAB 2 - Configure Content Delivery Network and endpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.3" data-path="../../M4/01/lab03.html">
            
                <a href="../../M4/01/lab03.html">
            
                    
                    LAB 3 - Upload and configure static web content
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.4" data-path="../../M4/01/lab04.html">
            
                <a href="../../M4/01/lab04.html">
            
                    
                    LAB 4 - Use Content Delivery Network endpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.5" data-path="../../M4/01/lab05.html">
            
                <a href="../../M4/01/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="18.1" data-path="../../M4/02/">
            
                <a href="../../M4/02/">
            
                    
                    9. Instrument solutions to support monitoring and logging
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1.1" data-path="../../M4/02/Monitor_app.html">
            
                <a href="../../M4/02/Monitor_app.html">
            
                    
                    9.1. Monitor app performance
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="19.1" data-path="../../M4/02/lab01.html">
            
                <a href="../../M4/02/lab01.html">
            
                    
                    LAB 1 - Create and configure Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.2" data-path="../../M4/02/lab02.html">
            
                <a href="../../M4/02/lab02.html">
            
                    
                    LAB 2 - Monitor a local web API by using Application Insights
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.3" data-path="../../M4/02/lab03.html">
            
                <a href="../../M4/02/lab03.html">
            
                    
                    LAB 3 - Monitor a web API using Application Insights
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.4" data-path="../../M4/02/lab04.html">
            
                <a href="../../M4/02/lab04.html">
            
                    
                    LAB 4 - Application Insights logging with .NET
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.5" data-path="../../M4/02/lab05.html">
            
                <a href="../../M4/02/lab05.html">
            
                    
                    LAB 5 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Connect to and consume Azure services and third-party services</li>
        
        
    
        <li class="chapter " data-level="20.1" data-path="../../M5/02/">
            
                <a href="../../M5/02/">
            
                    
                    10. Implement API Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="20.1.1" data-path="../../M5/02/API_Management.html">
            
                <a href="../../M5/02/API_Management.html">
            
                    
                    10.1. Explore API Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="21.1" data-path="../../M5/02/lab01.html">
            
                <a href="../../M5/02/lab01.html">
            
                    
                    LAB 1 - Create an Azure App Service resource by using a Docker container image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.2" data-path="../../M5/02/lab02.html">
            
                <a href="../../M5/02/lab02.html">
            
                    
                    LAB 2 - Build an API proxy tier by using Azure API Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.3" data-path="../../M5/02/lab03.html">
            
                <a href="../../M5/02/lab03.html">
            
                    
                    LAB 3 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="22.1" data-path="../../M5/03/">
            
                <a href="../../M5/03/">
            
                    
                    11. Develop event-based solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="22.1.1" data-path="../../M5/03/Event_grid.html">
            
                <a href="../../M5/03/Event_grid.html">
            
                    
                    11.1. Explore Azure Event Grid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.1.2" data-path="../../M5/03/Event_hubs.html">
            
                <a href="../../M5/03/Event_hubs.html">
            
                    
                    11.2. Explore Azure Event Hubs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="23.1" data-path="../../M5/03/lab01.html">
            
                <a href="../../M5/03/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.2" data-path="../../M5/03/lab02.html">
            
                <a href="../../M5/03/lab02.html">
            
                    
                    LAB 2 - Create an Event Grid subscription
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.3" data-path="../../M5/03/lab03.html">
            
                <a href="../../M5/03/lab03.html">
            
                    
                    LAB 3 - Publish Event Grid events from .NET
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.4" data-path="../../M5/03/lab04.html">
            
                <a href="../../M5/03/lab04.html">
            
                    
                    LAB 4 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="24.1" data-path="../../M5/04/">
            
                <a href="../../M5/04/">
            
                    
                    12. Develop message-based solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="24.1.1" data-path="../../M5/04/Message_queues.html">
            
                <a href="../../M5/04/Message_queues.html">
            
                    
                    12.1. Discover Azure message queues
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Hands-on Labs</li>
        
        
    
        <li class="chapter " data-level="25.1" data-path="../../M5/04/lab01.html">
            
                <a href="../../M5/04/lab01.html">
            
                    
                    LAB 1 - Create Azure resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="25.2" data-path="../../M5/04/lab0.md">
            
                <span>
            
                    
                    LAB 2 - Create a .NET Core project to publish messages to a Service Bus queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="25.3" data-path="../../M5/04/lab03.html">
            
                <a href="../../M5/04/lab03.html">
            
                    
                    LAB 3 - Create a .NET Core project to read messages from a Service Bus queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="25.4" data-path="../../M5/04/lab04.html">
            
                <a href="../../M5/04/lab04.html">
            
                    
                    LAB 4 - Clean up your subscription
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >LAB 2 - Review and upload data</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="lab-2-review-and-upload-data">Lab 2: Review and upload data</h2>
<h3 id="task-1-upload-images-to-azure-blob-storage">Task 1: Upload images to Azure Blob Storage</h3>
<ol>
<li><p>In the Azure portal&apos;s navigation pane, navigate back to the <strong>Storage accounts</strong> blade, and then select the <strong>polystor</strong><em>[yourname]</em> storage account that you created in this lab&apos;s previous exercise.</p>
</li>
<li><p>On the <strong>polystor</strong><em>[yourname]</em> storage account blade, select the <strong>Containers</strong> link in the <strong>Data storage</strong> section.</p>
</li>
<li><p>In the <strong>Containers</strong> section, select <strong>+ Container</strong>.</p>
</li>
<li><p>In the <strong>New container</strong> pop-up window, perform the following actions, and then select <strong>Create</strong>:</p>
<p>| Setting | Action |
| -- | -- |
| <strong>Name</strong> text box | Enter <strong>images</strong> |
| <strong>Public access level</strong> drop-down list | Select <strong>Blob (anonymous read access for blobs only)</strong> |</p>
</li>
</ol>
<ol>
<li><p>Back in the <strong>Containers</strong> section, select the newly created <strong>images</strong> container.</p>
</li>
<li><p>Find the <strong>Settings</strong> section on the <strong>Container</strong> blade, and then select the <strong>Properties</strong> link.</p>
</li>
<li><p>In the <strong>Properties</strong> pane, note and record the value in the <strong>URL</strong> text box. You&apos;ll use this value later in this lab.</p>
</li>
<li><p>Find and select the <strong>Overview</strong> link on the blade.</p>
</li>
<li><p>On the blade, select <strong>Upload</strong>.</p>
</li>
<li><p>In the <strong>Upload blob</strong> pop-up, perform the following actions:</p>
<p>a.  In the <strong>Files</strong> section, select the <strong>Folder</strong> icon.</p>
<p>b.  In the <strong>File Explorer</strong> window, browse to <strong>$HOME\training-az204\Labs\04\Starter\Images</strong>, select all 42 individual <strong>.jpg</strong> image files, and then select <strong>Open</strong>.</p>
<p>c.  Ensure that <strong>Overwrite if files already exist</strong> is selected, and then select <strong>Upload</strong>.</p>
<blockquote>
<p><strong>Note</strong>: Wait for all blobs to upload before you continue with this lab.</p>
</blockquote>
</li>
</ol>
<h3 id="task-2-review-json-data">Task 2: Review JSON data</h3>
<ol>
<li><p>From the lab computer, start Visual Studio Code.</p>
</li>
<li><p>From the <strong>File</strong> menu, select <strong>Open File</strong>, browse to <strong>$HOME\training-az204\Labs\04\Starter\AdventureWorks\AdventureWorks.Upload</strong>, select <strong>models.json</strong>, and then select <strong>Open</strong>.</p>
</li>
<li><p>Review the format of the <strong>models.json</strong> file and note that it contains an array of JSON objects, with a nested array of objects that are part of the <strong>Products</strong> property.</p>
<blockquote>
<p><strong>Note</strong>: This will determine the classes you&apos;ll define to deserialize the JSON file&apos;s contents before uploading it to a Cosmos DB collection.</p>
</blockquote>
</li>
<li><p>Within the <strong>models.json</strong> file, note that one of the properties is named <strong>Category</strong>.</p>
<blockquote>
<p><strong>Note</strong>: You&apos;ll use the <strong>Category</strong> property to define partitioning of the target Cosmos DB collection.</p>
</blockquote>
</li>
<li><p>Close Visual Studio Code.</p>
</li>
</ol>
<h3 id="task-3-create-a-cosmos-db-database-and-collection-and-perform-a-json-data-upload">Task 3: Create a Cosmos DB database and collection, and perform a JSON data upload</h3>
<ol>
<li><p>On the <strong>Start</strong> screen, select the <strong>Visual Studio Code</strong> tile.</p>
</li>
<li><p>From the <strong>File</strong> menu, select <strong>Open Folder</strong>.</p>
</li>
<li><p>In the <strong>File Explorer</strong> window that opens, browse to <strong>$HOME\training-az204\Labs\04\Starter\AdventureWorks</strong>, and then select <strong>Select Folder</strong>.</p>
</li>
<li><p>In the <strong>Visual Studio Code</strong> window, on the Menu Bar, select <strong>Terminal</strong> and then select <strong>New Terminal</strong>.</p>
</li>
<li><p>In the terminal, verify that the current directory is set to <strong>AdventureWorks</strong> (or change it to that if it&apos;s not), and then run the following command to switch your terminal context to the <strong>AdventureWorks.Upload</strong> folder:</p>
<pre><code>cd .\AdventureWorks.Upload\
</code></pre><blockquote>
<p><strong>Note</strong>: Before you perform the next step, open Windows Explorer and remove the <strong>Read-only</strong> attribute from the file <strong>$HOME\training-az204\Labs\04\Starter\AdventureWorks\AdventureWorks.Upload\AdventureWorks.Upload.csproj</strong></p>
</blockquote>
</li>
<li><p>From the terminal prompt, run the following command to add the Azure Cosmos DB .NET client library to the currently opened project:</p>
<pre><code>dotnet add package Microsoft.Azure.Cosmos --version 3.28.0
</code></pre><blockquote>
<p><strong>Note</strong>: The <strong>dotnet add package</strong> command will add the <strong>Microsoft.Azure.Cosmos</strong> package from <strong>NuGet</strong>. For more information, refer to <a href="https://www.nuget.org/packages/Microsoft.Azure.Cosmos" target="_blank">Microsoft.Azure.Cosmos</a>.</p>
</blockquote>
</li>
<li><p>Observe the results of the build printed in the terminal. The build should complete successfully with no errors or warning messages.</p>
</li>
<li><p>In the <strong>Explorer</strong> pane of the <strong>Visual Studio Code</strong> window, expand the <strong>AdventureWorks.Upload</strong> project.</p>
</li>
<li><p>Open the <strong>Program.cs</strong> file.</p>
</li>
<li><p>In the <strong>Program.cs</strong> file, review the <strong>using</strong> directives and note that they include <strong>Microsoft.Azure.Cosmos</strong>, <strong>System.IO;</strong>, <strong>System.Text.Json</strong>, <strong>System.Threading.Tasks</strong>, and <strong>System.Collections.Generic</strong>. This enables asynchronous upload of JSON items from a local file on your lab computer to a collection in a Cosmos DB database.</p>
</li>
<li><p>In the <strong>Program.cs</strong> file, on line 14, set the value of <strong>EndpointUrl</strong> by replacing the empty string with the <strong>URI</strong> property of the Cosmos DB account that you recorded earlier in this lab. Ensure that the value is enclosed in double quotes.</p>
</li>
<li><p>On line 15, set the value of <strong>AuthorizationKey</strong> by replacing the empty string with the <strong>PRIMARY KEY</strong> property of the Cosmos DB account that you recorded earlier in this lab. Ensure that the value is enclosed in double quotes.</p>
</li>
<li><p>On line 18, set the value of <strong>PartitionKey</strong> by replacing the empty string with <strong>&quot;/Category&quot;</strong>.</p>
</li>
<li><p>On line 19, set the value of <strong>JsonFilePath</strong> by replacing the empty string with <strong>&quot;$HOME\\training-az204\\Labs\\04\\Starter\\AdventureWorks\\AdventureWorks.Upload\\models.json&quot;</strong>.</p>
</li>
<li><p>Within the try block, note the invocation of the <strong>CreateDatabaseIfNotExistsAsync</strong> method of the <strong>CosmosClient</strong> class. This will create a database if one doesn&apos;t already exist.</p>
</li>
<li><p>Note the invocation of the <strong>DefineContainer</strong> method of the <strong>Database</strong> class. This will create a container that will host the JSON items if one doesn&apos;t already exist.</p>
<blockquote>
<p><strong>Note</strong>: The <strong>DefineContainer</strong> method includes a cost-minimizing option whereby you can modify the default indexing policy (which automatically indexes all attributes).</p>
</blockquote>
</li>
<li><p>Note the <strong>using</strong> statement that relies on a <strong>StreamReader</strong> object to read JSON items from a text file and deserializes them into objects of the <strong>Model</strong> class defined further in the <strong>Program.cs</strong> file.</p>
</li>
<li><p>Note the foreach loop that iterates over the collection of deserialized objects and asynchronously inserts each of them into the target collection.</p>
</li>
<li><p>Review the <strong>Model</strong> and <strong>Product</strong> classes that reflect the format of the objects stored in the JSON-formatted file you reviewed earlier in this lab.</p>
</li>
<li><p>Save and close the <strong>Program.cs</strong> file.</p>
<blockquote>
<p><strong>Note</strong>: Select <strong>Overwrite</strong> if you received a prompt that the file is read-only.</p>
</blockquote>
</li>
<li><p>In terminal, run the following command to restore any missing NuGet packages and build the project in the folder:</p>
<pre><code> dotnet build
</code></pre><blockquote>
<p><strong>Note</strong>: The <strong>dotnet build</strong> command will automatically restore any missing NuGet packages prior to building all projects in the folder.</p>
</blockquote>
</li>
<li><p>From the terminal prompt, run the following command to run the .NET Core console application:</p>
<pre><code>dotnet run
</code></pre><blockquote>
<p><strong>Note</strong>: The <strong>dotnet run</strong> command will automatically build any changes to the project and then start the web application without a debugger attached. The command will output the messages indicating the data load&apos;s progress, including the number of items inserted into the target collection and the duration of the insert operation.</p>
</blockquote>
</li>
<li><p>Observe the results of running the command printed in the terminal. The run should complete successfully, displaying the message about there being 119 items inserted into the target Cosmos DB collection.</p>
</li>
<li><p>Select <strong>Kill Terminal</strong> (the <strong>Recycle Bin</strong> icon) to close the terminal pane and any associated processes.</p>
</li>
</ol>
<h3 id="task-4-validate-json-data-upload">Task 4: Validate JSON data upload</h3>
<ol>
<li><p>On your lab computer, switch to the <strong>Microsoft Edge</strong> browser window displaying the Azure portal.</p>
</li>
<li><p>In the Azure portal, select the <strong>Search resources, services, and docs</strong> text box, in the <strong>Recent resources</strong> list, select the <strong>polycosmos</strong><em>[yourname]</em> Azure Cosmos DB account that you created earlier in this lab.</p>
</li>
<li><p>On the <strong>Azure Cosmos DB account</strong> blade, find and select the <strong>Data Explorer</strong> link on the blade.</p>
</li>
<li><p>In the <strong>Data Explorer</strong> pane, expand the <strong>Retail</strong> database node.</p>
</li>
<li><p>Expand the <strong>Online</strong> container node, and then select <strong>New SQL Query</strong>.</p>
<blockquote>
<p><strong>Note</strong>: The label for this option might be hidden. You can display labels by hovering over the icons in the <strong>Data Explorer</strong> pane.</p>
</blockquote>
</li>
<li><p>On the query tab, enter the following text:</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> models
</code></pre>
</li>
<li><p>Select <strong>Execute Query</strong>, and then observe the list of JSON items returned by the query.</p>
</li>
<li><p>Back in the query editor, replace the existing text with the following text:</p>
<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">VALUE</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-number">1</span>) <span class="hljs-keyword">FROM</span> models
</code></pre>
</li>
<li><p>Select <strong>Execute Query</strong>, and then observe the result of the <strong>COUNT</strong> aggregate operation.</p>
</li>
<li><p>Switch back to the <strong>Visual Studio Code</strong> window.</p>
</li>
</ol>
<h2 id="review">Review</h2>
<p>In this exercise, you used the .NET SDK for Azure Cosmos DB to insert data into Azure Cosmos DB. The web application that you implement next will use this data.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="lab01.html" class="navigation navigation-prev " aria-label="Previous page: LAB 1 - Creating data store resources in Azure">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="lab03.html" class="navigation navigation-next " aria-label="Next page: LAB 3 - Configure a .NET web application">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"LAB 2 - Review and upload data","level":"9.2","depth":1,"next":{"title":"LAB 3 - Configure a .NET web application","level":"9.3","depth":1,"path":"M2/01/lab03.md","ref":"M2/01/lab03.md","articles":[]},"previous":{"title":"LAB 1 - Creating data store resources in Azure","level":"9.1","depth":1,"path":"M2/01/lab01.md","ref":"M2/01/lab01.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"M2/01/lab02.md","mtime":"2022-12-23T17:50:02.944Z","type":"markdown"},"gitbook":{"version":"4.0.4","time":"2022-12-23T21:00:22.927Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

